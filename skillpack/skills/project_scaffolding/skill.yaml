skill:
  name: "project-scaffolding"
  version: "0.1.0"
  description: "Generate a complete Python project skeleton with modern best practices"
  tags: ["scaffolding", "project", "python", "cli"]

command:
  template: "skillpack project-scaffolding --name {name} --description {description}"
  binary: "skillpack"
  subcommand: "project-scaffolding"
  arguments:
    name:
      type: "string"
      required: true
      description: "Name of the project to create (alphanumeric and hyphens)"
      validation:
        pattern: "^[a-zA-Z][a-zA-Z0-9_-]*$"
        min_length: 1
        max_length: 50
    description:
      type: "string"
      required: false
      default: "A new Python project"
      description: "Project description"
      validation:
        max_length: 200

output:
  base_directory: "./out/project_scaffolding/{name}/"
  files:
    - path: "pyproject.toml"
      type: "toml"
      description: "Python project configuration"
    - path: "README.md"
      type: "markdown"
      description: "Project documentation"
    - path: ".gitignore"
      type: "text"
      description: "Git ignore rules"
    - path: ".env.example"
      type: "text"
      description: "Environment variable template"
    - path: ".pre-commit-config.yaml"
      type: "yaml"
      description: "Pre-commit hooks configuration"
    - path: ".github/workflows/ci.yml"
      type: "yaml"
      description: "GitHub Actions CI pipeline"
    - path: ".vscode/settings.json"
      type: "json"
      description: "VS Code settings"
    - path: "src/__init__.py"
      type: "python"
      description: "Package initialization"
    - path: "src/main.py"
      type: "python"
      description: "Main entry point"
    - path: "tests/__init__.py"
      type: "python"
      description: "Test package initialization"
    - path: "tests/test_main.py"
      type: "python"
      description: "Main module tests"

guardrails:
  allowed:
    - "Create new files in ./out/project_scaffolding/{name}/"
    - "Create directories under ./out/"
    - "Read template content from skillpack internals"
  forbidden:
    - "Modify any existing files outside ./out/"
    - "Delete any files"
    - "Execute shell commands beyond the skillpack CLI"
    - "Access network resources"
    - "Read or write files outside the workspace"
    - "Overwrite existing user projects"

preconditions:
  - description: "Project name must be valid identifier"
    check: "name matches ^[a-zA-Z][a-zA-Z0-9_-]*$"
  - description: "Output directory is writable"
    check: "./out/ directory exists or can be created"

postconditions:
  - description: "All project files are created"
    check: "All files listed in output.files exist"
  - description: "No existing files were modified"
    check: "Files outside ./out/ are unchanged"

errors:
  invalid_name:
    condition: "name contains invalid characters"
    message: "Project name must start with a letter and contain only letters, numbers, hyphens, and underscores"
    recovery: "Provide a valid project name"
  directory_exists:
    condition: "output directory already exists"
    message: "Project directory already exists: ./out/project_scaffolding/{name}/"
    recovery: "Choose a different project name or remove existing directory"

examples:
  - name: "Create simple project"
    description: "Generate a basic Python project"
    input:
      name: "my-app"
    command: "skillpack project-scaffolding --name my-app"
    expected_output:
      directory: "./out/project_scaffolding/my-app/"
      files_created: 11
      
  - name: "Create project with description"
    description: "Generate a project with custom description"
    input:
      name: "data-pipeline"
      description: "ETL pipeline for customer data"
    command: "skillpack project-scaffolding --name data-pipeline --description \"ETL pipeline for customer data\""
    expected_output:
      directory: "./out/project_scaffolding/data-pipeline/"
      files_created: 11

related_skills:
  - name: "quality-gate"
    reason: "Run quality checks on the generated project"
  - name: "pr-summary"
    reason: "Generate PR summary when submitting changes"
